<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Igor Ovsiannikov</title>
    <description></description>
    <link>http://yourdomain.com/</link>
    <atom:link href="http://yourdomain.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 29 Mar 2017 18:56:40 +0000</pubDate>
    <lastBuildDate>Wed, 29 Mar 2017 18:56:40 +0000</lastBuildDate>
    <generator>Jekyll v3.4.3</generator>
    
      <item>
        <title>Know Your Tools</title>
        <description>&lt;h2 id=&quot;first-words-a-bit-of-digression&quot;&gt;First words, a bit of digression&lt;/h2&gt;

&lt;p&gt;Back in days i read an article &lt;a href=&quot;http://blog.vjeux.com/2011/analysis/start-a-technical-blog-its-worth-it.html&quot;&gt;“Start a technical blog, it’s worth it!”&lt;/a&gt; by &lt;a href=&quot;https://github.com/vjeux&quot;&gt;Christopher Chedeau aka Vjeux&lt;/a&gt;.
By that time i already had my own list of things i wanted to write an article about. And since that day
i am struggling to actually start a blog. I like to reason about various topics on paper, because
it makes me better understand it. So why not to put it on the web? Even if nobody ever reads it, it still would be a step and a responsibility. Hopefully i will fight the excuses of absence of time, and will start writing regularly.&lt;/p&gt;

&lt;p&gt;One of the topics, which pops up in my mind pretty often, is the tools. I am a software engineer, and there are many tools in the domain. But i think the topic is much wider, and tools are important for everyone no matter the occupation. Without tools we would not be the people we are now. So i think, that tools are really important.&lt;/p&gt;

&lt;h2 id=&quot;tldr&quot;&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;Reasoning on the subject “Tools are important” and opinionated overview of useful tools in WebStorm IDE.&lt;/p&gt;

&lt;p&gt;In this article i want to deliver a specific message, that learning tools makes you more productive.
Since my day-to-day activity is highly related to writing code, i decided to pick an IDE of my choice and to list
the features i use the most.&lt;/p&gt;

&lt;h2 id=&quot;the-list&quot;&gt;The List&lt;/h2&gt;

&lt;p&gt;I used various code editors (e.g. VSCode, Atom, Brackets, Vim, Emacs, etc.) to write javascript, but my favorite is still WebStorm.
It is an awesome (yet commercial) javascript (and flavors) editor made by cool guys at JetBrains.
Without further ado, here is the list of my favorite features of the IDE, lets see how few/many is there:&lt;/p&gt;

&lt;p class=&quot;digression&quot;&gt;Of course many of listed features are present in other IDEs natively or via plugins. I do not say that WebStorm is the best, i just say that it is the best for me and reasons why i love it follow.&lt;/p&gt;

&lt;h3 id=&quot;1-navigation&quot;&gt;1. Navigation&lt;/h3&gt;
&lt;p&gt;The navigation is one of the basis problems while writing code. In WebStorm it is very well thought. For example you can navigate between main IDE windows with &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+{number}&lt;/span&gt;,
which reminds me of switching between groups of units in &lt;a href=&quot;https://en.wikipedia.org/wiki/Real-time_strategy&quot;&gt;RTS&lt;/a&gt; back in days. In WebStorm i use these handy hotkeys a lot, they allow me to navigate without a pointer device at all (mouse/touch).
Also in almost every window in WebStorm where list of items is present you can use incremental search to filter/navigate the list, real lifesaver.&lt;/p&gt;

&lt;h4 id=&quot;11-navigate-file-shifto-heart&quot;&gt;1.1. Navigate File &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+SHIFT+O&lt;/span&gt; :heart:&lt;/h4&gt;

&lt;p&gt;If you work with a project for a long time, there will be great number of files in it. Until some point you can look for the file in a Project Tree View to open it, but it is very slow, and as the number of files grows it become exponentially ineffective.
To make navigating between overall project files lighting fast you can use ‘Navigate File’ feature. Almost every editor has this feature, but, IMO, WebStorm really shines here.
Using this feature you can jump to any file in a few key strokes, given you remember its name at least vaguely: one to open a search bar, few more to find the file in the list, and may be several keystroke to navigate the search results vertically.
WebStorm provides a good index of project files, so you can type a file name with an error, or just a first letters of the words uppercased, you can also add slashes to indicate hierarchy. Super awesome.&lt;/p&gt;

&lt;h4 id=&quot;12-incremental-search-in-project-tree-view-heart&quot;&gt;1.2. Incremental search in Project Tree View :heart:&lt;/h4&gt;

&lt;p&gt;As i already stated above, WebStorm provides incremental search in many windows. One of the case is the Project Tree View.
For example, if i do not remember the file name, but i know under what path it could be found, it is handy to switch to the Project Tree View (in 1 keystroke), start typing the search pattern, then navigate the list vertically and horizontally, expanding the nodes. This incremental search is very handy, because it allows you edit search pattern as you type. You can navigate the tree and then type a few letters more for better match, and the tree view is not filtered visually, but when navigating with arrows you jump between current matches only.
One thing i can not live without is the ability to navigate the Project Tree View with arrows. If i find myself using an editor, which does not allow this, i feel very limited.&lt;/p&gt;

&lt;h4 id=&quot;13-navigate-declaration-click-b&quot;&gt;1.3. Navigate Declaration &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+click&lt;/span&gt; &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+B&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;Sometimes you just need to jump to a symbol declaration. The ability to provide such a feature depends on the code analysis.
WebStorm does a good work to provide it for vanilla(&lt;a href=&quot;https://github.com/tc39/ecma262&quot;&gt;es-stages&lt;/a&gt; included) javascript, but if you use TypeScript you will get the best service you can. Really good stuff.&lt;/p&gt;

&lt;h4 id=&quot;14-navigate-linecolumn-l&quot;&gt;1.4. Navigate Line/Column &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+L&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;It is very handy to be able to jump to a line:column within the file, for example when you are investigating an error stacktrace. Hit the hotkey and you are all set!&lt;/p&gt;

&lt;h4 id=&quot;15-last-edit-location-shiftbackspace-heart-heart-heart&quot;&gt;1.5. Last Edit Location &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+SHIFT+BACKSPACE&lt;/span&gt; :heart: :heart: :heart:&lt;/h4&gt;

&lt;p&gt;When i discovered this feature, it was love at first sight! Now i can not live 5 minutes without it. Seriously, try it, you wont be able to understand how you lived without it all these years.&lt;/p&gt;

&lt;p&gt;How it works? Basically, whenever you make edits WebStorm remembers these steps. Then if you need to scroll the file, our switch to another one, for any reason, how do you get back? It is exactly what the feature is about!
From now on, you can safely navigate to any other place in your project, and then just press &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+SHIFT+BACKSPACE&lt;/span&gt; to go directly back to the last edit you made! And guess what, WebStorm keeps theses steps in a stack, so you can use the hotkey to unwind. It is the best feature! Seriously, it is.&lt;/p&gt;

&lt;h4 id=&quot;16-linter-error-navigation-f2&quot;&gt;1.6. Linter error navigation &lt;span class=&quot;hotkey-tag&quot;&gt;F2&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;Nowadays &lt;a href=&quot;https://en.wikipedia.org/wiki/Lint_(software)&quot;&gt;linter&lt;/a&gt; is a must have, and all advanced editors have a built-in support. WebStorm is no exclusion.
What i like that i can easily navigate between linter errors while editing the code with hotkey.
If you finished with the feature, it is the time to fix linter errors. Just hit &lt;span class=&quot;hotkey-tag&quot;&gt;F2&lt;/span&gt; and edit errors, until there is no error left.&lt;/p&gt;

&lt;h4 id=&quot;17-search-in-file-shiftf&quot;&gt;1.7. Search in File &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+SHIFT+F&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;No editor comes without ‘search in files’ ability, for obvious reasons.
What i like about WebStorm, that one need to select a string and press &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+F&lt;/span&gt; for search, then &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+G&lt;/span&gt; to navigate between matches. Did you notice? There is no need to pollute the buffer copying the string and paste it in the search bar later (2 keystrokes saved and buffer keeps its value). Neat, isn`t it?&lt;/p&gt;

&lt;h4 id=&quot;18-search-and-replace-shiftr&quot;&gt;1.8. Search and Replace &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+SHIFT+R&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;Once again, i think every editor has ‘search and replace’ feature. It is a must have, especially the regexp support.
I find myself pretty often performing batch search-n-replace operations with regexp. And WebStorm makes this experience very pleasant, because when you are about to replace an entry, it shows what the replacement will be in a tooltip. Really cool stuff, especially when replacement string contains matched groups in regexp.&lt;/p&gt;

&lt;h4 id=&quot;19-todo-inspector-6&quot;&gt;1.9. TODO inspector &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+6&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;It is always a good idea to put a TODO in the code, when you find something worth attention but do not want to get distracted from the current task. It is even better to spend time regularly to fulfill the technical debt and actually pay attentions to all of the TODOs left behind.&lt;/p&gt;

&lt;p&gt;Here is where the ‘TODO inspector’ comes in all its glory! In WebStorm you can view all TODOs in one place with enough context to understand the case. It also provides a scope feature, using which you can view the TODOs limited to particular scope, say in current file, or in all test files in the project.&lt;/p&gt;

&lt;h4 id=&quot;110-switcher-ctrltab&quot;&gt;1.10. Switcher &lt;span class=&quot;hotkey-tag&quot;&gt;CTRL+TAB&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;When working on a feature, you often have several files in the context. WebStorm tracks the files you made edits in recently and allows you to navigate between these files almost instantly. Just hit &lt;span class=&quot;hotkey-tag&quot;&gt;CTRL+TAB&lt;/span&gt;, hit &lt;span class=&quot;hotkey-tag&quot;&gt;TAB&lt;/span&gt; to scroll through the list and while holding &lt;span class=&quot;hotkey-tag&quot;&gt;CTRL&lt;/span&gt;, then release it.&lt;/p&gt;

&lt;h4 id=&quot;111-recent-files-e-heart&quot;&gt;1.11. Recent files &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+E&lt;/span&gt; :heart:&lt;/h4&gt;

&lt;p&gt;If you need to review a longer list of files you edited recently, you can use ‘Recent Files’ window. It allows you to navigate the file list with arrows without restrictions. And it also supports awesome incremental search!&lt;/p&gt;

&lt;h3 id=&quot;2-code-generation-and-editing&quot;&gt;2. Code Generation and Editing&lt;/h3&gt;
&lt;p&gt;Seems we are done with navigation related goodies. Let me list the good stuff WebStorm has for code generation and editing.&lt;/p&gt;

&lt;h4 id=&quot;21-create-new-file&quot;&gt;2.1. Create New File&lt;/h4&gt;

&lt;p&gt;The create file activity is nicely implemented. I often use it in this way: &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+1&lt;/span&gt; to focus the Project Tree View; navigate to the desired location; &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+N&lt;/span&gt; to start a file creation dialog; type few letters to choose the file type (e.g. ‘js’); type in the file name and hit &lt;span class=&quot;hotkey-tag&quot;&gt;Enter&lt;/span&gt; to finish the process.&lt;/p&gt;

&lt;h4 id=&quot;22-live-templates-heart&quot;&gt;2.2. Live templates :heart:&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://www.jetbrains.com/help/webstorm/2016.2/live-templates-2.html&quot;&gt;Live templates&lt;/a&gt; allow you to generate a chunk of commonly used code as simple as typing a short alias and hitting &lt;span class=&quot;hotkey-tag&quot;&gt;TAB&lt;/span&gt;. You can use preset templates, or you can add your own. For example, i have my own 2-4 letters aliased templates for React related code chunks generation, saved me a month of bare time typing through the year probably XD.
Live templates allows to define replaceable variables, which one will have to fill after the template is expanded. It also provides some predefined constants, for example, to select where the cursor should be placed after template is filled. Or you can reach a name of the file to use it, say, as a generated class name.
I would like to see some more features in Live Templates, for instance, an ability to use your own functions to transform provided values, say, to name a generated class as the file name, but Pascal cased. But it is still good enough.
Many IDE provide similar capability, but the name varies.&lt;/p&gt;

&lt;h4 id=&quot;23-emmet&quot;&gt;2.3. Emmet&lt;/h4&gt;

&lt;p&gt;“&lt;a href=&quot;https://emmet.io/&quot;&gt;Emmet&lt;/a&gt; is the essential toolkit for web-developers”, as stated on &lt;a href=&quot;https://emmet.io/&quot;&gt;the official web site&lt;/a&gt;
It allows you to succinctly generate and easily navigate HTML (or in fact any subset of &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_Generalized_Markup_Language&quot;&gt;SGML&lt;/a&gt;).
I think there is nothing special in WebStorm in this regards, only that it is supported out of the box.&lt;/p&gt;

&lt;h4 id=&quot;24-intentions&quot;&gt;2.4. Intentions&lt;/h4&gt;

&lt;p&gt;Another awesomeness by WebStorm is &lt;a href=&quot;https://www.jetbrains.com/help/webstorm/2016.3/intention-actions.html&quot;&gt;Intentions&lt;/a&gt;. In short it a set of actions scoped to particular context.
An example would be to replace single quotes with double quotes around the string, or alter a condition in a if-statement according to the DeMorgan Law. There are many more intentions scoped to: javascript, css, typescript, XSLT etc.&lt;/p&gt;

&lt;h4 id=&quot;25-refactor-rename-shiftf6&quot;&gt;2.5. Refactor Rename &lt;span class=&quot;hotkey-tag&quot;&gt;SHIFT+F6&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;I do not use many of the refactor-goodies included in WebStorm, but one command i use quite often. It is ‘rename’.
If the search-n-replace is a dumb command, the refactor-rename is a smart one, based on the static code analysis.
WebStorm does really good job to provide smart rename functionality for vanilla javascript. But if you use TypeScript, you will get the most.&lt;/p&gt;

&lt;h4 id=&quot;26-split-viewport-verticallyhorizontally&quot;&gt;2.6. Split viewport vertically/horizontally&lt;/h4&gt;

&lt;p&gt;Sometimes it is a good thing to keep several files before your eyes. WebStorm allows to split the canvas of the active  editor vertically and horizontally. You can even open the same file with independent scroll position side by side.&lt;/p&gt;

&lt;h4 id=&quot;27-comment-code&quot;&gt;2.7. Comment Code&lt;/h4&gt;

&lt;p&gt;Nothing special here, right? Every IDE has it, but devil is in details. When you comment a line in WebStorm, the cursor moves to the next line. In many editors it stays on the same line by default, and it is quite annoying.&lt;/p&gt;

&lt;h4 id=&quot;28-duplicate-line-d&quot;&gt;2.8. Duplicate line &lt;span class=&quot;hotkey-tag&quot;&gt;⌘+D&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;This is also one of the features, which i use so often that it happens mostly unconsciously.
If there were a set of basis operations for code editors, i would include this feature, no doubts.&lt;/p&gt;

&lt;h4 id=&quot;29-switch-lines&quot;&gt;2.9. Switch lines&lt;/h4&gt;

&lt;p&gt;This feature also becomes so common for me, that i do not notice anymore when i use it. Basically, if the editor does not have it, IMO, it is not usable.
WebStorm provides dumb and smart line switch actions, as i call it. It happens that i prefer the dumb one, because there is no surprises, the result is exactly as i expected and i do not need to spend time to make analysis after the action.&lt;/p&gt;

&lt;h3 id=&quot;3-other-cool-stuff&quot;&gt;3. Other cool stuff&lt;/h3&gt;

&lt;h4 id=&quot;31-debugging-code&quot;&gt;3.1. Debugging code&lt;/h4&gt;

&lt;p&gt;WebStorm provides a good UI for debugging javascript, i use it a lot. But the topic is to wide, and is worth a separate article.
I header recently, that VSCode paired with node-chakracore provides pleasant debugging experience and a new guy in the game ‘time travel’, which is basically a ‘step back’ in execution. (Source: &lt;a href=&quot;https://www.youtube.com/watch?v=iMLpUVZseEg&quot;&gt;Parashuram talk on React Conf 2017&lt;/a&gt;)&lt;/p&gt;

&lt;h4 id=&quot;32-presentation-mode&quot;&gt;3.2. Presentation Mode&lt;/h4&gt;

&lt;p&gt;If you are going to show your code while standing on a tribune, this mode is irreplaceable.&lt;/p&gt;

&lt;h4 id=&quot;33-distraction-free-mode&quot;&gt;3.3. Distraction Free Mode&lt;/h4&gt;

&lt;p&gt;Distraction Free Mode hides all unnecessary details except the code. If you need some zen to shape your code, just turn the mode on. Guess how cool it is? It even supports active editor canvas splitting, check it out!&lt;/p&gt;

&lt;h4 id=&quot;34-power-save-mode&quot;&gt;3.4. Power save mode&lt;/h4&gt;

&lt;p&gt;Sometimes you need to code while no power sockets are nearby, be it a train, or airplane, or just a not-laptop-ready-cafe. If you need to extend your laptop battery life, turn on the Power Save Mode. Of course you will lose some support by WebStorm, but everything comes with a price.&lt;/p&gt;

&lt;h4 id=&quot;35-search-everywhere-shiftshift&quot;&gt;3.5. Search everywhere &lt;span class=&quot;hotkey-tag&quot;&gt;SHIFT+SHIFT&lt;/span&gt;&lt;/h4&gt;

&lt;p&gt;And the last guy, but probably the juiciest! Did i say that WebStorm is good at make things searchable? Right, it is so good, that the Search Everywhere dialog was unavoidable. Just hit &lt;span class=&quot;hotkey-tag&quot;&gt;SHIFT&lt;/span&gt; two times, and search e-e-verything!&lt;/p&gt;

&lt;p&gt;The resulting list is a bit too long. But i am pretty happy that i made it, because while putting it together i spotted several features in WebStorm worth investigating. See? I already got my profit!
Of course there are many more goodies hidden in WebStorm. Some of them i know, and heard positive usage experience, but i do not like to use them for a reason. For example: local history, scratch files, git(and other VCS) integration, deployment tasks etc.&lt;/p&gt;

&lt;h2 id=&quot;wrap-up&quot;&gt;Wrap up&lt;/h2&gt;

&lt;p&gt;The article is turned out to be very focused on the IDE, but the idea is deeper.&lt;/p&gt;

&lt;p&gt;No matter what job you do, there are tools which makes our day-to-day experience much better leaving more room for solving real tasks instead of being distracted for boring routines.
But to find the right tool one need to spend some time to search and investigate a tool. The idea is that the spent time is worth it, because tools make us more performant, they allow us to achieve goals faster with less noise and distraction.
And if there is no tool, but there is a routine you can invest some time and create tool, even if you are the only person who would use it. &lt;em&gt;(And guess what? There are tools to make writing a tool easier! As recursive as it sounds.)&lt;/em&gt;
So try tools, create tools, and share tools. Even if no one will use it but you, if it helps you, the experience still worth it.&lt;/p&gt;

&lt;p&gt;Of course there are many tools out there, really good ones, state of the art tools. And it requires from some to quite a lot of time to learn a tool, some tools you want ever know for 100% (if learning the tool is not your goal).
So, if you just started using a tool, or you use it for quite a long time always leave a room to learn a bit more about it. And if you found a new feature or a way to use the tool, think of sharing your experience with the community. You know, putting things on paper often provides deeper understanding of the subject. So it is definitely worth it. Just a small blogpost would do the job. Who knows, may be, you write a novel and you use git along the way to keep your writings save and organized, world would appreciate if you share the experience.&lt;/p&gt;

&lt;p class=&quot;digression&quot;&gt;There was &lt;a href=&quot;https://facebook.github.io/react/community/conferences.html#react-conf-2017&quot;&gt;17th React Conf recently&lt;/a&gt;, and there were many awesome talks.
There was also a good emotional talk by one of the FB core team members, &lt;a href=&quot;https://github.com/chenglou&quot;&gt;Cheng Lou&lt;/a&gt;.
The main topic he brought up in his talk was &lt;a href=&quot;https://www.youtube.com/watch?v=_0T5OSSzxms&quot;&gt;“Taming the meta language”&lt;/a&gt;, if you saw it, you will understand, if no - just trust me. The talk was about tools and making tools better, make them evolve as our knowledge deepens. Because the tools serve as a rock solid basis for us to move further. And it is so fascinating, that i wish everybody caught that awesomeness-virus.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Tools it is what makes us better professionals, it is what allows us to advance our knowledge and to push the boundaries.
That is why, please, invest time in searching right tools for the job, learning tools you use and creating better tools for our common sake. It is our chance to find ourselves one day far beyond the boundaries we are within currently.&lt;/p&gt;

&lt;hr /&gt;

&lt;ul class=&quot;footnotes&quot;&gt;
  &lt;li&gt;&lt;em&gt;All hotkeys are for WebStorm on MacOS&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Some hotkeys may be changed from defaults&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;There is also a static type checker made by FB, and WebStorm supports it as well&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sun, 26 Mar 2017 21:00:00 +0000</pubDate>
        <link>http://yourdomain.com/2017/03/26/know-your-tools.html</link>
        <guid isPermaLink="true">http://yourdomain.com/2017/03/26/know-your-tools.html</guid>
        
        <category>ide,</category>
        
        <category>tools</category>
        
        
      </item>
    
      <item>
        <title>Source Maps in production</title>
        <description>&lt;p&gt;&lt;a name=&quot;update-04-06-2015&quot;&gt;&lt;/a&gt;
&lt;strong&gt;UPDATE 04.06.2015&lt;/strong&gt;: &lt;em&gt;Current source maps format &lt;a href=&quot;https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#&quot;&gt;(version 3)&lt;/a&gt; does not provide information to restore functions and variables names (as they appear in the original code) to be able to explore values of variables while program execution is paused. But luckily, there is a &lt;a href=&quot;http://fitzgeraldnick.com/2015/07/22/source-map-environment-proposal.html&quot;&gt;proposal&lt;/a&gt; by &lt;a href=&quot;http://fitzgeraldnick.com/&quot;&gt;Nick Fitzgerald&lt;/a&gt; to enhance the source maps format! &lt;a href=&quot;https://github.com/fitzgen/source-map-rfc/blob/scopes-and-bindings/proposals/env.md&quot;&gt;Read it here.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;what-is-this-post-about&quot;&gt;What is this post about?&lt;/h2&gt;

&lt;p&gt;How to leverage the power of source maps in production and not expose your original code to everyone on the net.&lt;/p&gt;

&lt;h2 id=&quot;lets-dive-in&quot;&gt;Lets dive in&lt;/h2&gt;

&lt;p&gt;One day you may want to debug your site in production, but if your code is minified it wont be a great experience. The way to handle it is to use source maps for your minified code.&lt;/p&gt;

&lt;p&gt;But if you use source maps in production, then everybody else on the net may use it too - just open a console and here it is deminified source code. Not necessarily. Lets look how it works.&lt;/p&gt;

&lt;p&gt;Source maps can be embedded in the bundle. In this case everybody who has access to the bundle has the access to the source maps too.&lt;/p&gt;

&lt;p&gt;But source maps can go as a separate file too. In this case, a browser will try to load it if you open a developer console. And you can tell the browser were it should look for the source maps.&lt;/p&gt;

&lt;p&gt;There are several ways to do it (&lt;a href=&quot;https://github.com/estools/escodegen/wiki/Source-Map-Usage&quot;&gt;github.com/mozilla/source-map&lt;/a&gt;):&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Use an HTTP header when serving the JS file (&lt;code class=&quot;highlighter-rouge&quot;&gt;X-SourceMap: /path/to/file.js.map&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Append a comment to the JS file (&lt;code class=&quot;highlighter-rouge&quot;&gt;//#sourceMappingUrl=/path/to/file.js.map&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;by-example&quot;&gt;By example&lt;/h2&gt;

&lt;p&gt;Now lets try it by example, i will go with the second option in the list above. 
(&lt;em&gt;The full source code is on &lt;a href=&quot;https://github.com/ggarek/ggarek.github.io/tree/code/source-maps-in-production&quot;&gt;github&lt;/a&gt;.&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;I tried to make the project as simple as possible for the sake of brevity. Here is the files listing:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;src/index.js&lt;/code&gt; - just print something in console&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;src/index.html&lt;/code&gt; - landing page, includes the bundle&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;serve-index.js&lt;/code&gt; - express server to serve bundle and index.html&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;serve-source-maps.js&lt;/code&gt; - express server to serve source maps&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;webpack.config.js&lt;/code&gt;  - webpack config&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The main thing happens in the webpack config, here:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;webpack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SourceMapDevToolPlugin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'[file].map'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// Change default source map footer &lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// for the bundle (were to look for source maps)&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`\&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//# sourceMappingURL=${sourceMapURL}[url]`,&lt;/span&gt;

      &lt;span class=&quot;c1&quot;&gt;// This will alter how reconstructed source files &lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// will appear in the source tree in developer console&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;moduleFilenameTemplate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sourceURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;fallbackModuleFilenameTemplate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sourceURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]?[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;SourceMapDevToolPlugin&lt;/code&gt; allows to specify the &lt;code class=&quot;highlighter-rouge&quot;&gt;sourceMappingURL&lt;/code&gt; footer via &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; property. Thus we can tell a browser were to look for source maps.&lt;/p&gt;

&lt;p&gt;To run the example, navigate to the project folder and run:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# to install dependencies&lt;/span&gt;
npm i 
&lt;span class=&quot;c&quot;&gt;# to build the project and start index server&lt;/span&gt;
npm start
&lt;span class=&quot;c&quot;&gt;# to start the source maps server (in the separate term tab)&lt;/span&gt;
npm run serve-source-maps
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;One can use &lt;code class=&quot;highlighter-rouge&quot;&gt;//#sourceMappingUrl&lt;/code&gt; to specify the location of source maps as absolute url. Which literally means that the bundle and the source maps can be served separately.&lt;/p&gt;

&lt;p&gt;To use source maps securely in production, one can serve it from an origin behind a VPN, or from localhost.
In the first case, you need to manage a centralised server to serve source maps. In the second case, every developer can have own local server.&lt;/p&gt;

&lt;p&gt;The idea to use localhost to serve source maps may look frightening, but as for now i do not see any potential risks in it. I will immediately update the article if i should discover one.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;p.s.: If you found any, please,  drop me a message.&lt;/p&gt;

&lt;p&gt;&lt;del&gt;p.s.2: One more thing to note. The variable names will appear in developer console as they are in runtime, meaning that if your code is minified, then you will get “unreadable” callstack and “messed up” variable names. AFAIK, there is yet no way to map minified variable names to names in original source.&lt;/del&gt; &lt;strong&gt;Look the &lt;a href=&quot;#update-04-06-2015&quot;&gt;UPDATE&lt;/a&gt; section in the start of the post.&lt;/strong&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 03 Jun 2016 21:00:00 +0000</pubDate>
        <link>http://yourdomain.com/2016/06/03/source-maps-in-production.html</link>
        <guid isPermaLink="true">http://yourdomain.com/2016/06/03/source-maps-in-production.html</guid>
        
        <category>webpack,express,source</category>
        
        <category>maps</category>
        
        
      </item>
    
  </channel>
</rss>
